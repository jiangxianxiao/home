!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var s=n(1),o=i(s),r=function(){var t=document.getElementById("head"),e=window.location.search.match(/\?post=(\d+)/),n=e?e[1]:null;n&&(window.location.href="https://github.com/livoras/blog/issues/"+n),(0,o["default"])("Too young, too simple. Sometimes, naive.").history.forEach(function(e,n){setTimeout(function(){t.innerText=e},30*n)})};r()},function(t,e,n){"use strict";function i(t){for(var e="",n=0,i=t.length;i>n;n++)e+=s(Number(t.charCodeAt(n)).toString(2));return e}function s(t){for(;t.length<8;)t="0"+t;return t}function o(t){var e=i(t),n=new a({geneLength:e.length,mutateProbability:.5,doneFitness:1,populationSize:30,generationsSize:400,getFitness:function(t){for(var n=0,i=0,s=t.length;s>i;i++)t[i]===e[i]&&n++;var o=n/e.length;return o},done:function(t){},onGeneration:function(t,e){var n=0,i=0;this.fitnesses.forEach(function(t,e){t>n&&(n=t,i=e)}),this.history.push(r(e[i]))},outOfGenerationsSize:function(t,e){}});return n.history=[],n.start(),n}function r(t){for(var e="";t.length;){var n=t.substr(0,8);t=t.substr(8),e+=String.fromCharCode(parseInt(n,2))}return e}var a=n(2);t.exports=o},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){for(var e="",n=0;t>n;n++)e+=Math.floor(100*Math.random())%2===0?"1":"0";return e}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.currentGeneration=0,this.populations=[],this.fitnesses=[],this.mutateProbability=e.mutateProbability||.5,this.generationsSize=e.generationsSize||100,this.populationSize=e.populationSize||100,this.doneFitness=e.doneFitness||1,this.geneLength=e.geneLength,this.getFitness=e.getFitness,this.outOfGenerationsSize=e.outOfGenerationsSize||this.outOfGenerationsSize,this.onGeneration=e.onGeneration||this.onGeneration,this.done=e.done||this.done}return s(t,[{key:"start",value:function(){this.initPopulation(),this.makeFitnesses(),this.select()}},{key:"initPopulation",value:function(){this.currentGeneration=1,this.populations=[];for(var t=0,e=this.populationSize;e>t;t++){var n=i(this.geneLength);this.populations.push(n)}this.onGeneration(this.currentGeneration,this.populations)}},{key:"select",value:function(){if(this.currentGeneration>=this.generationsSize)return this.outOfGenerationsSize(this.populations,this.fitnesses);var t=this.getMatches();return t.length>0?this.done(t):void this.generateNextGeneration()}},{key:"makeFitnesses",value:function(){var t=this;this.fitnesses=[],this.totalFitness=0,this.populations.forEach(function(e,n){var i=t.getFitness(e,t.populations);t.fitnesses[n]=i,t.totalFitness+=i})}},{key:"getMatches",value:function(){var t=this,e=[];return this.populations.forEach(function(n,i){var s=t.fitnesses[i];s>=t.doneFitness&&e.push({gene:n,fitness:s,pos:i})}),e}},{key:"generateNextGeneration",value:function(){this.currentGeneration++;for(var t=this.populations,e=[],n=0,i=t.length;i>n;n++){var s=this.rotate(),o=this.rotate(),r=this.crossOver(s,o);r=this.mutate(r),e.push(r)}this.populations=e,this.makeFitnesses(),this.onGeneration(this.currentGeneration,this.populations),this.select()}},{key:"crossOver",value:function(t,e){var n=Math.floor(t.length*Math.random()),i=t.substring(0,n)+e.substring(n),s=e.substring(0,n)+t.substring(n);return this.getFitness(i)>this.getFitness(s)?i:s}},{key:"mutate",value:function(t){var e=Math.random();if(e<this.mutateProbability)return t;var n=Math.floor(Math.random()*this.geneLength),i=t.split("");return i[n]=1^+t[n],i.join("")}},{key:"rotate",value:function(){for(var t=Math.random(),e=0,n=0,i=this.fitnesses.length;i>n;n++){var s=this.fitnesses[n];if(e+=s,e/this.totalFitness>=t)return this.populations[n]}}},{key:"done",value:function(){}},{key:"onGeneration",value:function(){}},{key:"outOfGenerationsSize",value:function(){}}]),t}();t.exports=o}]);